(()=>{var t={101:t=>{class e{trimMask=!1;trimUnmask=!0;blurMask=!0;mask="+7 (___) ___-__-__";softCaret="_";caret="_"}class s{static _baseOptions=new e;get maskMinLength(){return this.mask.indexOf(this.softCaret)}get unmaskMaxLength(){return this.mask.match(new RegExp(this.softCaret,"g")).length}get maskPosMap(){return Array.from(this.mask.matchAll(new RegExp(this.softCaret,"g"))).map((({index:t})=>t))}constructor(t={}){this._options=s._initOptions(t),this._initOptionAccess()}_initOptionAccess(){s._fillingOptions.forEach((t=>{Object.defineProperty(this,t,{get:()=>this._options[t]})}))}static override(t){Object.assign(s._baseOptions,s._initOptions(t))}static flush(){s.override(new e)}static get _fillingOptions(){return Object.keys(s._baseOptions)}static _initOptions(t){return s._fillOptions(t)}static _fillOptions(t){const e=Object.entries(t).filter((([t])=>s._fillingOptions.includes(t))),i=Object.fromEntries(e),n=Object.assign({},s._baseOptions,i);return s._validate(n),n}static _validate(t){if(this._checkNumberCaret(t.softCaret),this._checkOneCharCaret(t.softCaret),this._checkRegexCaret(t.softCaret),this._checkNumberCaret(t.caret),new RegExp(`${t.softCaret}.*\\d`).test(t.mask))throw new Error("Mask not support numbers after carets");if(!new RegExp(`${t.softCaret}`).test(t.mask))throw new Error("Soft caret not found in mask")}static _checkNumberCaret(t){if(/\d/.test(t))throw new Error("Caret not support number format")}static _checkOneCharCaret(t){if(1!==t.length)throw new Error("Caret support only one symbol")}static _checkRegexCaret(t){try{new RegExp(`${t}`).test(t)}catch(e){throw new Error(`Not supported caret "${t}" in regex, please change`)}}}class i{static Options=s;options;_el;get input(){return this._el}constructor(t,e={}){this._init(t),this.options=new i.Options(e),this.update()}_init(t){this._el=t instanceof HTMLInputElement?t:document.querySelector(t),this._el.type="tel",this._bind()}destroy(){this._unbind(),this._el=void 0}update(){this.updateMask(),this.updateBlur()}updateMask(){this.unmask=this._trimUnmask(this.unmask)}updateBlur(){this.isBlur()?this.options.blurMask&&!this.unmask&&(this._el.value=""):this.unmask=this._trimUnmask(this.unmask)}isFocus(){return document.activeElement===this._el}isBlur(){return!this.isFocus()}_bind(){this._el.addEventListener("focus",this._onFocus),this._el.addEventListener("blur",this._onBlur),this._el.addEventListener("input",this._onInput),this._el.addEventListener("mouseup",this._onMouseUp),this._el.addEventListener("touchend",this._onMouseUp)}_unbind(){this._el.removeEventListener("focus",this._onFocus),this._el.removeEventListener("blur",this._onBlur),this._el.removeEventListener("input",this._onInput),this._el.removeEventListener("mouseup",this._onMouseUp),this._el.removeEventListener("touchend",this._onMouseUp)}_onFocus=()=>{this.updateBlur(),this._correctPos()};_onBlur=()=>this.updateBlur();_onInput=()=>{const t=this._unmaskPos;this.updateMask(),this._unmaskPos=t};_onMouseUp=()=>{this._correctPos()};_correctPos(){const{selectionStart:t,selectionEnd:e}=this._el;if(t!==e)return;const s=Array.from(this._el.value.matchAll(/\d/g)).at(-1)?.index+1||0,i=Math.max(this.options.mask.indexOf(this.options.softCaret)||0,0),n=Math.max(Math.min(t,s),i);t!==n&&(this._el.selectionStart=this._el.selectionEnd=n)}_trimUnmask(t){if(t.length<=this.options.unmaskMaxLength)return t;let e=t;return this.options.trimUnmask&&(e=t.replace(/^[87]/,"")),e.slice(0,this.options.unmaskMaxLength)}_cleanMask(t){const e=t,s="^"+this.options.mask.replace(new RegExp(`([^${this.options.softCaret}\\d])`,"g"),"").replace(/(\d)/g,"$1?").replace(new RegExp(`${this.options.softCaret}+`,"g"),"(\\d*?)")+"$",i=new RegExp(s).exec(e.replace(/\D/g,""));return i&&i.slice(1).map((t=>t.replace(/\D/g,""))).join("")}_applyMask(t){const e=t.replace(/\d/g,"(\\d)"),s=new RegExp(e),i=Math.min(t.length,this.options.unmaskMaxLength);let n=this.options.mask;for(let t=1;t<=i;t++)n=n.replace(new RegExp(this.options.softCaret),"$"+t);let r=t.replace(s,n);if(this.options.trimMask){const t=this.options.maskMinLength,e=Array.from(r.matchAll(/\d/g)).reverse()[0].index+1;r=r.slice(0,Math.max(t,e))}else this.options.softCaret!==this.options.caret&&(r=r.replace(new RegExp(this.options.softCaret,"g"),this.options.caret));return r}get _unmaskPos(){const t=this._el.value.slice(0,this._el.selectionEnd);return this._cleanMask(t).length}set _unmaskPos(t){const{maskPosMap:e}=this.options,s=this.unmask.length,i=Math.min(Math.max(0,Math.min(t,s)-1)),n=Math.max(0,Math.min(1,t)),r=e[i]+n;this._el.selectionStart=this._el.selectionEnd=r}get unmask(){return this._cleanMask(this._el.value)}set unmask(t){this._el.value=this._applyMask(t)}}t.exports&&(t.exports=i)}},e={};function s(i){var n=e[i];if(void 0!==n)return n.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,s),r.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=s(101);new(s.n(t)())(window.Main.phone_elem)})()})();